<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Japanese Language Partners - Nihongo Sekai</title>
    <meta
      name="description"
      content="Connect with expert Japanese language partners. Browse profiles of certified native speakers and experienced teachers for personalized learning."
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css" />

    <!-- Favicon -->
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🎌</text></svg>"
    />
  </head>
  <body class="partners-page">
    <!-- Navigation Header -->
    <header class="header">
      <nav class="navbar">
        <div class="container">
          <div class="nav-brand">
            <a href="index.html" class="brand-link">
              <span class="brand-icon">日</span>
              <span class="brand-text">
                <span class="brand-nihongo">Nihongo</span>
                <span class="brand-sekai">Sekai</span>
              </span>
            </a>
          </div>

          <div class="nav-menu" id="navMenu">
            <ul class="nav-list">
              <li><a href="index.html" class="nav-link">Home</a></li>
              <li><a href="courses.html" class="nav-link">Courses</a></li>
              <li><a href="classrooms.html" class="nav-link">Classrooms</a></li>
              <li>
                <a href="partners.html" class="nav-link active">Partners</a>
              </li>
              <li><a href="about.html" class="nav-link">About</a></li>
            </ul>
          </div>

          <div class="nav-actions" id="navActions">
            <a href="login.html" class="btn btn-outline">Sign In</a>
            <a href="register.html" class="btn btn-primary">Get Started</a>
          </div>

          <button class="nav-toggle" id="navToggle">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>
      </nav>
    </header>

    <!-- Main Content -->
    <main>
      <!-- Enhanced Hero Section -->
      <section class="enhanced-hero">
        <div class="sakura-container" id="sakuraContainer">
          <!-- Sakura petals will be generated by JavaScript -->
        </div>
        <div class="container">
          <div class="enhanced-hero-content">
            <h1 class="enhanced-hero-title">
              Expert Japanese Language Partners
            </h1>
            <p class="enhanced-hero-subtitle">
              Connect with certified native speakers and experienced teachers
              for personalized Japanese learning. Browse profiles and find the
              perfect partner for your learning journey.
            </p>
            <div class="enhanced-hero-stats">
              <div class="enhanced-stat">
                <span class="enhanced-stat-number">50+</span>
                <span class="enhanced-stat-label">Certified Partners</span>
              </div>
              <div class="enhanced-stat">
                <span class="enhanced-stat-number">10k+</span>
                <span class="enhanced-stat-label">Student Sessions</span>
              </div>
              <div class="enhanced-stat">
                <span class="enhanced-stat-number">4.9</span>
                <span class="enhanced-stat-label">Average Rating</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Static Search & Filter Section -->
      <section class="static-search-section" id="searchSection">
        <div class="container">
          <!-- Enhanced Search Bar -->
          <div class="enhanced-search-bar" style="position: relative">
            <input
              type="text"
              id="partnerSearch"
              placeholder="Search Japanese language partners..."
              class="enhanced-search-input"
              autocomplete="off"
            />
            <svg
              class="enhanced-search-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.35-4.35"></path>
            </svg>
            <!-- Autocomplete Dropdown -->
            <div
              id="autocompleteDropdown"
              class="autocomplete-dropdown"
              style="display: none"
            >
              <!-- Suggestions will be populated here -->
            </div>
          </div>

          <!-- Filter Pills -->
          <div class="filter-pills">
            <div class="filter-pill" data-filter="specialty">
              <select id="specialtyFilter">
                <option value="">All Specialties</option>
                <option value="conversation">Conversation</option>
                <option value="business">Business Japanese</option>
                <option value="jlpt">JLPT Preparation</option>
                <option value="grammar">Grammar</option>
                <option value="culture">Cultural Studies</option>
                <option value="writing">Writing & Reading</option>
              </select>
            </div>

            <div class="filter-pill" data-filter="experience">
              <select id="experienceFilter">
                <option value="">All Experience</option>
                <option value="1-3">1-3 years</option>
                <option value="3-5">3-5 years</option>
                <option value="5-10">5-10 years</option>
                <option value="10+">10+ years</option>
              </select>
            </div>

            <div class="filter-pill" data-filter="rating">
              <select id="ratingFilter">
                <option value="">All Ratings</option>
                <option value="4.5+">4.5+ stars</option>
                <option value="4.0+">4.0+ stars</option>
                <option value="3.5+">3.5+ stars</option>
              </select>
            </div>

            <div class="filter-pill" data-filter="verified">
              <select id="verifiedFilter">
                <option value="">All Partners</option>
                <option value="verified">Verified Only</option>
                <option value="native">Native Speakers</option>
              </select>
            </div>

            <button class="clear-filters-btn" id="clearFilters">
              Clear All
            </button>
          </div>
        </div>
      </section>

      <!-- Partners Main Section -->
      <section class="partners-main">
        <div class="container">
          <!-- Results Summary -->
          <div style="text-align: center; margin-bottom: var(--spacing-xl)">
            <span
              id="resultsCount"
              style="
                font-size: 1.125rem;
                color: var(--color-gray-600);
                font-weight: 500;
              "
              >Loading partners...</span
            >
          </div>

          <!-- Partners Grid -->
          <div class="partners-grid" id="partnersGrid">
            <!-- Partners will be loaded dynamically -->
          </div>

          <!-- Enhanced Pagination -->
          <div class="enhanced-pagination" id="paginationWrapper">
            <button class="pagination-btn" id="prevPage" disabled>
              <svg
                viewBox="0 0 24 24"
                fill="currentColor"
                style="width: 16px; height: 16px"
              >
                <polyline points="15,18 9,12 15,6" />
              </svg>
              Previous
            </button>

            <div
              id="paginationNumbers"
              style="display: flex; gap: var(--spacing-sm)"
            >
              <!-- Page numbers will be generated dynamically -->
            </div>

            <button class="pagination-btn" id="nextPage">
              Next
              <svg
                viewBox="0 0 24 24"
                fill="currentColor"
                style="width: 16px; height: 16px"
              >
                <polyline points="9,18 15,12 9,6" />
              </svg>
            </button>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <div class="footer-brand">
              <span class="brand-icon">日</span>
              <span class="brand-text">
                <span class="brand-nihongo">Nihongo</span>
                <span class="brand-sekai">Sekai</span>
              </span>
            </div>
            <p class="footer-description">
              Master Japanese with confidence through our comprehensive learning
              platform designed for global learners.
            </p>
            <div class="footer-social">
              <a href="#" class="social-link" aria-label="Facebook">📘</a>
              <a href="#" class="social-link" aria-label="Twitter">🐦</a>
              <a href="#" class="social-link" aria-label="Instagram">📷</a>
              <a href="#" class="social-link" aria-label="LinkedIn">💼</a>
            </div>
          </div>

          <div class="footer-section">
            <h3 class="footer-title">Learn</h3>
            <ul class="footer-links">
              <li><a href="courses.html">Courses</a></li>
              <li><a href="classrooms.html">Live Classes</a></li>
              <li><a href="partners.html">Partners</a></li>
              <li><a href="pricing.html">Pricing</a></li>
            </ul>
          </div>

          <div class="footer-section">
            <h3 class="footer-title">Company</h3>
            <ul class="footer-links">
              <li><a href="about.html">About Us</a></li>
              <li><a href="careers.html">Careers</a></li>
              <li><a href="press.html">Press</a></li>
              <li><a href="partners.html">Partners</a></li>
            </ul>
          </div>

          <div class="footer-section">
            <h3 class="footer-title">Support</h3>
            <ul class="footer-links">
              <li><a href="help.html">Help Center</a></li>
              <li><a href="contact.html">Contact Us</a></li>
              <li><a href="community.html">Community</a></li>
              <li><a href="blog.html">Blog</a></li>
            </ul>
          </div>

          <div class="footer-section">
            <h3 class="footer-title">Legal</h3>
            <ul class="footer-links">
              <li><a href="privacy.html">Privacy Policy</a></li>
              <li><a href="terms.html">Terms of Service</a></li>
              <li><a href="cookie-policy.html">Cookie Policy</a></li>
            </ul>
          </div>
        </div>

        <div class="footer-bottom">
          <div class="footer-bottom-content">
            <p class="footer-copyright">
              © 2024 Nihongo Sekai. All rights reserved.
            </p>
            <div class="footer-bottom-links">
              <a href="privacy.html">Privacy</a>
              <a href="terms.html">Terms</a>
              <a href="cookie-policy.html">Cookies</a>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script src="script.js"></script>
    <script>
      // Partners List Page Functionality
      document.addEventListener("DOMContentLoaded", function () {
        // Initialize sakura petals animation
        initializeSakuraPetals();

        // Mock partners data
        const partners = [
          {
            id: 1,
            name: "Yuki Tanaka",
            bio: "Native Japanese speaker from Tokyo with 8 years of teaching experience. Specializes in conversational Japanese and business communication.",
            averageRating: 4.9,
            totalRatings: 342,
            isVerified: true,
            isNative: true,
            specialty: ["conversation", "business"],
            experience: "5-10",
            location: "Tokyo, Japan",
            languages: ["Japanese", "English"],
            sessionPrice: 35,
            profileImage:
              "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",
            classrooms: [
              "Morning Conversation Practice",
              "Business Japanese Workshop",
            ],
          },
          {
            id: 2,
            name: "Hiroshi Sato",
            bio: "JLPT preparation specialist with PhD in Japanese linguistics. Helped 500+ students pass JLPT N1-N5 exams with innovative teaching methods.",
            averageRating: 4.8,
            totalRatings: 189,
            isVerified: true,
            isNative: true,
            specialty: ["jlpt", "grammar"],
            experience: "10+",
            location: "Kyoto, Japan",
            languages: ["Japanese", "English", "Mandarin"],
            sessionPrice: 45,
            profileImage:
              "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",
            classrooms: ["JLPT Study Group", "Advanced Grammar Bootcamp"],
          },
          {
            id: 3,
            name: "Akiko Yamamoto",
            bio: "Corporate trainer with 12 years experience teaching business Japanese to international professionals. Former interpreter for major corporations.",
            averageRating: 4.7,
            totalRatings: 267,
            isVerified: true,
            isNative: true,
            specialty: ["business", "culture"],
            experience: "10+",
            location: "Osaka, Japan",
            languages: ["Japanese", "English", "Korean"],
            sessionPrice: 50,
            profileImage:
              "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",
            classrooms: [
              "Business Japanese Essentials",
              "Cultural Communication",
            ],
          },
          {
            id: 4,
            name: "Takeshi Morimoto",
            bio: "Young and energetic teacher specializing in modern Japanese culture and anime/manga language learning. Popular with younger students.",
            averageRating: 4.6,
            totalRatings: 156,
            isVerified: true,
            isNative: true,
            specialty: ["culture", "conversation"],
            experience: "3-5",
            location: "Shibuya, Tokyo",
            languages: ["Japanese", "English"],
            sessionPrice: 28,
            profileImage:
              "https://images.unsplash.com/photo-1507034589631-9433cc6bc453?w=150&h=150&fit=crop&crop=face",
            classrooms: ["Anime Japanese Club", "Youth Conversation Circle"],
          },
          {
            id: 5,
            name: "Mei Nakamura",
            bio: "Expert in Japanese writing systems and classical literature. Specializes in teaching kanji, hiragana, and katakana to beginners.",
            averageRating: 4.8,
            totalRatings: 298,
            isVerified: true,
            isNative: true,
            specialty: ["writing", "grammar"],
            experience: "5-10",
            location: "Nara, Japan",
            languages: ["Japanese", "English"],
            sessionPrice: 38,
            profileImage:
              "https://images.unsplash.com/photo-1594736797933-d0dfb5e5b9e8?w=150&h=150&fit=crop&crop=face",
            classrooms: ["Writing Fundamentals", "Kanji Mastery Course"],
          },
          {
            id: 6,
            name: "Kenji Suzuki",
            bio: "Cultural anthropologist and language teacher focusing on traditional Japanese customs and modern social etiquette.",
            averageRating: 4.5,
            totalRatings: 203,
            isVerified: true,
            isNative: true,
            specialty: ["culture", "conversation"],
            experience: "5-10",
            location: "Kyoto, Japan",
            languages: ["Japanese", "English", "German"],
            sessionPrice: 40,
            profileImage:
              "https://images.unsplash.com/photo-1560250097-0b93528c311a?w=150&h=150&fit=crop&crop=face",
            classrooms: [
              "Cultural Exchange Chat",
              "Traditional Japanese Studies",
            ],
          },
        ];

        let filteredPartners = [...partners];
        let currentPage = 1;
        const partnersPerPage = 6;

        // Initialize page
        initializePage();

        function initializePage() {
          renderPartners();
          setupEventListeners();
          updateResultsCount();
          setupPagination();
        }

        function initializeSakuraPetals() {
          const sakuraContainer = document.getElementById("sakuraContainer");
          for (let i = 1; i <= 9; i++) {
            const petal = document.createElement("div");
            petal.className = "sakura-petal";
            sakuraContainer.appendChild(petal);
          }
        }

        function setupEventListeners() {
          document
            .getElementById("partnerSearch")
            .addEventListener("input", handleSearch);

          document
            .getElementById("specialtyFilter")
            .addEventListener("change", handleFilters);
          document
            .getElementById("experienceFilter")
            .addEventListener("change", handleFilters);
          document
            .getElementById("ratingFilter")
            .addEventListener("change", handleFilters);
          document
            .getElementById("verifiedFilter")
            .addEventListener("change", handleFilters);

          document
            .getElementById("clearFilters")
            .addEventListener("click", clearAllFilters);

          document.querySelectorAll(".filter-pill select").forEach((select) => {
            select.addEventListener("change", updateFilterChipState);
          });
        }

        function handleSearch(e) {
          const searchTerm = e.target.value.toLowerCase();
          filteredPartners = partners.filter(
            (partner) =>
              partner.name.toLowerCase().includes(searchTerm) ||
              partner.bio.toLowerCase().includes(searchTerm) ||
              partner.specialty.some((spec) =>
                spec.toLowerCase().includes(searchTerm),
              ) ||
              partner.location.toLowerCase().includes(searchTerm),
          );
          applyFiltersAndSort();
          currentPage = 1;
          renderPartners();
          updateResultsCount();
          setupPagination();
        }

        function handleFilters() {
          applyFiltersAndSort();
          currentPage = 1;
          renderPartners();
          updateResultsCount();
          setupPagination();
          updateClearButton();
        }

        function applyFiltersAndSort() {
          const specialty = document.getElementById("specialtyFilter").value;
          const experience = document.getElementById("experienceFilter").value;
          const rating = document.getElementById("ratingFilter").value;
          const verified = document.getElementById("verifiedFilter").value;

          filteredPartners = partners.filter((partner) => {
            const matchesSearch =
              !document.getElementById("partnerSearch").value ||
              partner.name
                .toLowerCase()
                .includes(
                  document.getElementById("partnerSearch").value.toLowerCase(),
                ) ||
              partner.bio
                .toLowerCase()
                .includes(
                  document.getElementById("partnerSearch").value.toLowerCase(),
                );

            const matchesSpecialty =
              !specialty || partner.specialty.includes(specialty);
            const matchesExperience =
              !experience || partner.experience === experience;
            const matchesRating =
              !rating ||
              partner.averageRating >= parseFloat(rating.replace("+", ""));
            const matchesVerified =
              !verified ||
              (verified === "verified" && partner.isVerified) ||
              (verified === "native" && partner.isNative);

            return (
              matchesSearch &&
              matchesSpecialty &&
              matchesExperience &&
              matchesRating &&
              matchesVerified
            );
          });

          // Sort by rating (highest first)
          filteredPartners.sort((a, b) => b.averageRating - a.averageRating);
        }

        function renderPartners() {
          const startIndex = (currentPage - 1) * partnersPerPage;
          const endIndex = startIndex + partnersPerPage;
          const partnersToShow = filteredPartners.slice(startIndex, endIndex);

          const gridContainer = document.getElementById("partnersGrid");
          gridContainer.innerHTML = partnersToShow
            .map((partner) => {
              return `
                <div class="partner-card" data-partner-id="${partner.id}">
                  <div class="partner-header">
                    <div class="partner-image">
                      <img src="${partner.profileImage}" alt="${partner.name}" loading="lazy">
                      ${partner.isVerified ? '<div class="verified-badge" title="Verified Partner">✓</div>' : ""}
                    </div>
                    <div class="partner-basic-info">
                      <h3 class="partner-name">${partner.name}</h3>
                      <div class="partner-location">${partner.location}</div>
                      <div class="partner-rating">
                        <div class="stars">${generateStars(partner.averageRating)}</div>
                        <span class="rating-value">${partner.averageRating}</span>
                        <span class="rating-count">(${partner.totalRatings})</span>
                      </div>
                    </div>
                  </div>
                  
                  <div class="partner-content">
                    <p class="partner-bio">${partner.bio}</p>
                    
                    <div class="partner-specialties">
                      ${partner.specialty.map((spec) => `<span class="specialty-tag">${spec}</span>`).join("")}
                    </div>
                    
                    <div class="partner-details">
                      <div class="detail-item">
                        <span class="detail-icon">🗣</span>
                        <span>${partner.languages.join(", ")}</span>
                      </div>
                      <div class="detail-item">
                        <span class="detail-icon">⏱</span>
                        <span>${getExperienceText(partner.experience)} experience</span>
                      </div>
                      <div class="detail-item">
                        <span class="detail-icon">💰</span>
                        <span>$${partner.sessionPrice}/session</span>
                      </div>
                    </div>

                    <div class="partner-classrooms">
                      <div class="classrooms-label">Teaching:</div>
                      <div class="classrooms-list">
                        ${partner.classrooms.map((classroom) => `<span class="classroom-tag">${classroom}</span>`).join("")}
                      </div>
                    </div>
                  </div>
                  
                  <div class="partner-actions">
                    <a href="partner-detail.html?id=${partner.id}" class="btn btn-outline">View Profile</a>
                    <button class="btn btn-primary" onclick="contactPartner(${partner.id})">Contact</button>
                  </div>
                </div>
              `;
            })
            .join("");
        }

        function generateStars(rating) {
          const fullStars = Math.floor(rating);
          const hasHalfStar = rating % 1 >= 0.5;
          let stars = "";

          for (let i = 0; i < fullStars; i++) {
            stars += "★";
          }

          if (hasHalfStar) {
            stars += "☆";
          }

          return stars;
        }

        function getExperienceText(experience) {
          const experienceMap = {
            "1-3": "1-3 years",
            "3-5": "3-5 years",
            "5-10": "5-10 years",
            "10+": "10+ years",
          };
          return experienceMap[experience] || experience;
        }

        function updateResultsCount() {
          const count = filteredPartners.length;
          const countElement = document.getElementById("resultsCount");
          countElement.textContent = `${count} ${count === 1 ? "partner" : "partners"} found`;
        }

        function setupPagination() {
          const totalPages = Math.ceil(
            filteredPartners.length / partnersPerPage,
          );
          const paginationNumbers =
            document.getElementById("paginationNumbers");
          const prevBtn = document.getElementById("prevPage");
          const nextBtn = document.getElementById("nextPage");

          prevBtn.disabled = currentPage === 1;
          nextBtn.disabled = currentPage === totalPages || totalPages === 0;

          paginationNumbers.innerHTML = "";
          for (let i = 1; i <= totalPages; i++) {
            const pageBtn = document.createElement("button");
            pageBtn.textContent = i;
            pageBtn.className = `pagination-number ${i === currentPage ? "active" : ""}`;
            pageBtn.addEventListener("click", () => goToPage(i));
            paginationNumbers.appendChild(pageBtn);
          }

          prevBtn.onclick = () => goToPage(currentPage - 1);
          nextBtn.onclick = () => goToPage(currentPage + 1);
        }

        function goToPage(page) {
          const totalPages = Math.ceil(
            filteredPartners.length / partnersPerPage,
          );
          if (page < 1 || page > totalPages) return;

          currentPage = page;
          renderPartners();
          setupPagination();
          window.scrollTo({ top: 0, behavior: "smooth" });
        }

        function clearAllFilters() {
          document.getElementById("partnerSearch").value = "";
          document.getElementById("specialtyFilter").value = "";
          document.getElementById("experienceFilter").value = "";
          document.getElementById("ratingFilter").value = "";
          document.getElementById("verifiedFilter").value = "";

          filteredPartners = [...partners];
          applyFiltersAndSort();
          currentPage = 1;
          renderPartners();
          updateResultsCount();
          setupPagination();
          updateClearButton();
          updateFilterChipStates();
        }

        function updateFilterChipState(e) {
          const pill = e.target.closest(".filter-pill");
          if (e.target.value) {
            pill.classList.add("active");
          } else {
            pill.classList.remove("active");
          }
          updateClearButton();
        }

        function updateFilterChipStates() {
          document.querySelectorAll(".filter-pill").forEach((pill) => {
            const select = pill.querySelector("select");
            if (select.value) {
              pill.classList.add("active");
            } else {
              pill.classList.remove("active");
            }
          });
        }

        function updateClearButton() {
          const hasActiveFilters =
            document.getElementById("partnerSearch").value ||
            document.getElementById("specialtyFilter").value ||
            document.getElementById("experienceFilter").value ||
            document.getElementById("ratingFilter").value ||
            document.getElementById("verifiedFilter").value;

          const clearBtn = document.getElementById("clearFilters");
          if (hasActiveFilters) {
            clearBtn.classList.add("visible");
          } else {
            clearBtn.classList.remove("visible");
          }
        }

        // Global function for contacting partners
        window.contactPartner = function (partnerId) {
          const partner = partners.find((p) => p.id === partnerId);
          if (partner) {
            alert(
              `Contact feature for ${partner.name} would be implemented here.`,
            );
          }
        };

        // Initialize filter chip states and clear button
        updateFilterChipStates();
        updateClearButton();
      });
    </script>
  </body>
</html>
